<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="description" content="" />
  <meta name="author" content="" />
  <title>Energy Dashboard</title>
  <!-- Custom fonts for this template-->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css" />
  <link href="fonts/Poppins/stylesheet.css" rel="stylesheet" />
  <link rel="preconnect" href="https://fonts.gstatic.com" />
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet" />
  <!-- Custom styles for this template-->
  <link href="css/sb-admin-2.min.css" rel="stylesheet" />
  <link href="css/custom.css" rel="stylesheet" type="text/css" />
</head>

<body id="page-top" class="page-overview sidebar-toggled">
  <!-- Page Wrapper -->
  <div id="wrapper">
    <!-- Sidebar -->
    <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion toggled" id="accordionSidebar">
      <!-- Sidebar - Brand -->
      <a class="sidebar-brand d-flex align-items-center justify-content-center" href="overview.html">
        <div class="sidebar-brand-icon">
          <img src="img/KED_logo_PNG-fav.png" alt="logo" />
        </div>
        <div class="sidebar-brand-text mx-3">
          <img src="img/logo.png" alt="logo" />
        </div>
      </a>
      <!-- Divider -->
      <hr class="sidebar-divider my-0" />
      <!-- Nav Item - Charts -->
      <!-- <li class="nav-item ">
               <a class="nav-link" href="overview.html">
                 <i class="fas fa-fw fa-chart-area"></i>
                 <span>Overview</span></a>
               </li> -->
      <!-- Nav Item - Dashboard -->
      <li class="nav-item">
        <a class="nav-link" href="overview.html">
          <i class="fas fa-fw fa-chart-area"></i>
          <span>Overview</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="Asset-management.html">
          <i class="fas fa-fw fa-map"></i>
          <span>Asset Management</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="capacity.html">
          <i class="fas fa-fw fa-map"></i>
          <span>Capacity Dashboard</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="buildings.html">
          <i class="fas fa-fw fa-map"></i>
          <span>Buildings</span></a>
      </li>
      <li class="nav-item dropdown no-arrow">
        <a class="nav-link dropdown-toggle" href="cooling.html">
          <i class="fas fa-fw fa-map"></i>
          <span>Cooling</span>
        </a>
      </li>
      <li class="nav-item dropdown no-arrow">
        <a class="nav-link dropdown-toggle" href="connectivity.html">
          <i class="fas fa-fw fa-map"></i>
          <span>Connectivity</span>
        </a>
      </li>
      <li class="nav-item dropdown no-arrow">
        <a class="nav-link dropdown-toggle" href="power-capacity.html">
          <i class="fas fa-fw fa-map"></i>
          <span>Power</span>
        </a>
      </li>
      <li class="nav-item dropdown no-arrow">
        <a class="nav-link dropdown-toggle" href="health-capacity.html">
          <i class="fas fa-fw fa-map"></i>
          <span>Health</span>
        </a>
      </li>
      <li class="nav-item active">
        <a class="nav-link" href="index.html">
          <i class="fas fa-fw fa-table"></i>
          <span>Energy Dashboard</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="water.html">
          <i class="fas fa-fw fa-table"></i>
          <span>Water Meter System</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="dashboard1.html">
          <i class="fas fa-fw fa-tachometer-alt"></i>
          <span> Cold Room Temp</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="dashboard-FAS.html">
          <i class="fas fa-fw fa-tachometer-alt"></i>
          <span>Fire Alarm System</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="report.html">
          <i class="fas fa-fw fa-tachometer-alt"></i>
          <span>Report Module</span>
        </a>
      </li>
      <!-- <li class="nav-item ">
               <a class="nav-link" href="Asset-management.html">
                 <i class="fas fa-fw fa-map"></i>
                 <span>Asset Management</span></a>
               </li>
               <li class="nav-item">
               <a class="nav-link" href="capacity.html">
                 <i class="fas fa-fw fa-map"></i>
                 <span>Capacity Dashboard</span></a>
               </li>
               <li class="nav-item ">
               <a class="nav-link" href="buildings.html">
                 <i class="fas fa-fw fa-map"></i>
                 <span>Buildings</span></a>
               </li>
               <li class="nav-item dropdown no-arrow">
               <a class="nav-link dropdown-toggle" href="cooling.html">
                 <i class="fas fa-fw fa-map"></i>
                 <span>Cooling</span>
               </a>
               </li>
               <li class="nav-item dropdown no-arrow">
               <a class="nav-link dropdown-toggle" href="connectivity.html">
                 <i class="fas fa-fw fa-map"></i>
                 <span>Connectivity</span>
               </a>
               </li>
               <li class="nav-item dropdown no-arrow">
               <a class="nav-link dropdown-toggle" href="power-capacity.html">
                 <i class="fas fa-fw fa-map"></i>
                 <span>Power</span>
               </a>
               </li>
               <li class="nav-item dropdown no-arrow">
               <a class="nav-link dropdown-toggle" href="health-capacity.html">
                 <i class="fas fa-fw fa-map"></i>
                 <span>Health</span>
               </a>
               </li> -->
      <!-- Divider -->
      <hr class="sidebar-divider d-none d-md-block" />
      <!-- Sidebar Toggler (Sidebar) -->
      <div class="text-center d-none d-md-inline">
        <button class="rounded-circle border-0" id="sidebarToggle"></button>
      </div>
    </ul>
    <!-- End of Sidebar -->
    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">
      <!-- Main Content -->
      <div id="content">
        <!-- Topbar -->
        <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">
          <!-- Sidebar Toggle (Topbar) -->
          <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
            <i class="fa fa-bars"></i>
          </button>
          <!-- Topbar Navbar -->
          <ul class="navbar-nav ml-auto">
            <li class="nav-item dropdown no-arrow mx-1">
              <a class="nav-link dropdown-toggle" href="#" id="alertsDropdown" role="button" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-bell fa-fw"></i>
                <!-- Counter - Alerts -->
                <span class="badge badge-danger badge-counter">3+</span>
              </a>
              <!-- Dropdown - Alerts -->
              <div class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in"
                aria-labelledby="alertsDropdown">
                <h6 class="dropdown-header">Alerts Center</h6>
                <a class="dropdown-item d-flex align-items-center" href="server.html">
                  <div class="mr-3">
                    <div class="icon-circle bg-primary">
                      <i class="fas fa-file-alt text-white"></i>
                    </div>
                  </div>
                  <div>
                    <div class="small text-gray-500">November 4, 2020</div>
                    <span class="font-weight-bold">Server issue</span>
                  </div>
                </a>
                <a class="dropdown-item d-flex align-items-center" href="cabin.html">
                  <div class="mr-3">
                    <div class="icon-circle bg-warning">
                      <i class="fas fa-exclamation-triangle text-white"></i>
                    </div>
                  </div>
                  <div>
                    <div class="small text-gray-500">November 4, 2020</div>
                    Rack Temperature is High
                  </div>
                </a>
                <a class="dropdown-item d-flex align-items-center" href="#">
                  <div class="mr-3">
                    <div class="icon-circle bg-warning">
                      <i class="fas fa-exclamation-triangle text-white"></i>
                    </div>
                  </div>
                  <div>
                    <div class="small text-gray-500">November 3, 2020</div>
                    Warning: Switchboard - Generator Group
                  </div>
                </a>
                <a class="dropdown-item text-center small text-gray-500" href="alarm-management.html">Show All
                  Alerts</a>
              </div>
            </li>
            <div class="topbar-divider d-none d-sm-block"></div>
            <!-- Nav Item - User Information -->
            <li class="nav-item dropdown no-arrow">
              <a class="nav-link dropdown-toggle" href="#">
                <img class="img-scnd-logo" src="img/logo-trid.png" />
              </a>
            </li>
            <div class="topbar-divider d-none d-sm-block"></div>
            <li class="nav-item dropdown no-arrow">
              <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false">
                <span class="mr-2 d-none d-lg-inline text-gray-600 small">Supervisor</span>
                <img class="img-profile rounded-circle" src="https://source.unsplash.com/QAB-WJcbgJk/60x60" />
              </a>
              <!-- Dropdown - User Information -->
              <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
                <a class="dropdown-item" href="#">
                  <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
                  Profile
                </a>
                <a class="dropdown-item" href="#">
                  <i class="fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"></i>
                  Settings
                </a>
                <a class="dropdown-item" href="#">
                  <i class="fas fa-list fa-sm fa-fw mr-2 text-gray-400"></i>
                  Activity Log
                </a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="#" data-toggle="modal" data-target="#logoutModal">
                  <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
                  Logout
                </a>
              </div>
            </li>
          </ul>
        </nav>
        <!-- End of Topbar -->
        <!-- Begin Page Content -->
        <div class="container-fluid">
          <!-- Page Heading -->
          <div class="d-sm-flex align-items-center justify-content-between mb-4">
            <h1 class="m-0 font-weight-bold text-primary">
              <a href="overview.html">Overview</a> /
              <a href="buildings.html">Buildings</a>/
              <a href="buildings.html#building2">Building 2</a> / Chiller Dashboard
            </h1>
            <div class="more-options-sec">
              <select id="SelectBuild" onchange="buildHandler(this.value)">
                <option value="index" selected>All Chillers</option>

                <option value="chiller1">Chiller 1</option>
                <option value="chiller2">Chiller 2</option>
                <option value="chiller3">Chiller 3</option>
                <option value="chiller4">Chiller 4</option>
                <option value="chiller5">Chiller 5</option>
              </select>
              <div class="more">
                <button id="more-btn" class="more-btn">
                  <span class="more-dot"></span>
                  <span class="more-dot"></span>
                  <span class="more-dot"></span>
                </button>
                <div class="more-menu">
                  <div class="more-menu-caret">
                    <div class="more-menu-caret-outer"></div>
                    <div class="more-menu-caret-inner"></div>
                  </div>
                  <ul class="more-menu-items" tabindex="-1" role="menu" aria-labelledby="more-btn" aria-hidden="true">
                    <li class="more-menu-item" role="presentation">
                      <a href="#" class="more-menu-btn">Asset Management</a>
                    </li>
                    <!-- <li class="more-menu-item" role="presentation">
                        <a href="energy.html" class="more-menu-btn">Energy Dashboard</a>
                      </li> -->
                    <li class="more-menu-item" role="presentation">
                      <a href="build-capacity.html" class="more-menu-btn">Capacity Dashboard</a>
                    </li>
                    <!-- <li class="more-menu-item" role="presentation">
                        <a href="#" class="more-menu-btn">Cooling Dashboard</a>
                      </li> -->
                  </ul>
                </div>
              </div>
            </div>
            <!-- <h1 class="m-0 font-weight-bold text-primary">
                        Energy Dashboard <span id="locationName"></span>
                        </h1> -->
            <!-- <a
                        href="#"
                        class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm"
                        ><i class="fas fa-download fa-sm text-white-50"></i> Generate
                        Report</a
                        > -->
          </div>
          <!-- Content Row -->
          <div id="content-index" class="d-block">
            <div class="row d-flex">
              <div class="col-xl-6 col-lg-6 d-flex">
                <div class="card shadow mb-4 w-100">
                  <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <h6 class="m-0 font-weight-bold text-primary tonnage_capacity_chart">
                      Chiller #1
                    </h6>
                    <div id="button-sec" class="vis_hidden">
                      <button id="rack_power_btn" title="Show rack power" class="chart-button">
                        <i class="fas fa-fw fa-bolt"></i>
                      </button>
                    </div>
                  </div>
                  <div class="card-body">
                    <div class="serverRak">
                      <div id="boiler_img"><img class="video" src="img/Chiller-Air-Cooled-1.jpg" alt="boiler"></div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-xl-6 col-lg-6 d-flex">
                <div class="card shadow mb-4 w-100">
                  <!-- Card Header -->
                  <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <h6 class="m-0 font-weight-bold text-primary">PUMPS Power</h6>
                    <div class="more-options-sec">
                      <select id="SelectBuildForPump">
                        <option value="index" selected>Chilled Water Pumps</option>
                        <option value="PCHWP">PRIMARY PUMP</option>
                        <option value="SCHWP">SECONDARY PUMP</option>
                        <option value="CoolingTower">COOLING TOWER</option>
                      </select>
                    </div>
                  </div>
                  <!-- Card Body -->
                  <div class="card-body">
                    <div class="chart-area">
                      <div id="chartdiv2"></div>
                      <div id="selectordiv2"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>


            <div class="row">
              <!-- Area Chart 1 -->
              <div class="col-xl-6 col-lg-6">
                <div class="card shadow mb-4">
                  <!-- Card Header - Dropdown -->
                  <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <h6 class="m-0 font-weight-bold text-primary">Full-Load-Amperage (%)</h6>
                  </div>
                  <!-- Card Body -->
                  <div class="card-body">
                    <div class="chart-area">
                      <div id="chartdiv"></div>
                      <div id="selectordiv"></div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Area Chart 2 -->
              <div class="col-xl-6 col-lg-6">
                <div class="card shadow mb-4">
                  <!-- Card Header - Dropdown -->
                  <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <h6 class="m-0 font-weight-bold text-primary">Amps Data</h6>
                  </div>
                  <!-- Card Body -->
                  <div class="card-body">
                    <div class="chart-area">
                      <div id="chartdiv1"></div>
                      <div id="selectordiv1"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div id="content-chiller1" class="d-none">
            <div class="row">
              <div class="col-xl-12 col-lg-5 small-boxes">
                <!-- Earnings (Monthly) Card Example -->
                <div class="row">
                  <div class="col-xl-4 col-md-4 mb-4">
                    <div class="card border-left-success shadow h-100 py-2">
                      <div class="card-body VrtCenter">
                        <div class="row no-gutters align-items-center">
                          <div class="col mr-2">
                            <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                              Total Operating Hours
                            </div>
                            <div id="operatingHours" class="h5 mb-0 font-weight-bold text-gray-800">
                              0 Hours
                            </div>
                          </div>
                          <div class="col-auto">
                            <!-- <i class="fas fa-bolt fa-2x text-gray-300"></i> -->
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-xl-4 col-md-4 mb-4">
                    <div class="card border-left-primary shadow h-100 py-2">
                      <div class="card-body VrtCenter">
                        <div class="row no-gutters align-items-center">
                          <div class="col mr-2">
                            <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                              2nd kpi
                            </div>
                            <div class="h5 mb-0 font-weight-bold text-gray-800">
                              0
                            </div>
                          </div>
                          <div class="col-auto">
                            <!-- <i class="fas fa-battery-half fa-2x text-gray-300"></i> -->
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- Pending Requests Card Example -->
                  <div class="col-xl-4 col-md-4 mb-4">
                    <div class="card border-left-light shadow h-100 py-2">
                      <div class="card-body VrtCenter">
                        <div class="row no-gutters align-items-center">
                          <div class="col mr-2">
                            <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                              3rd Kpi
                            </div>
                            <div class="h5 mb-0 font-weight-bold text-gray-800">
                              0
                            </div>
                          </div>
                          <div class="col-auto">
                            <!-- <i class="fas fa-hand-holding-heart fa-2x text-gray-300"></i> -->
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="row d-flex">
              <div class="col-xl-6 col-lg-6">
                <div class="card shadow mb-4">
                  <!-- Card Header - Dropdown -->
                  <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <h6 class="m-0 font-weight-bold text-primary">Delta T - Evaporation</h6>
                  </div>
                  <!-- Card Body -->
                  <div class="card-body">
                    <div class="chart-area">
                      <div id="chartdiv3"></div>
                      <div id="selectordiv"></div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-xl-6 col-lg-6">
                <div class="card shadow mb-4">
                  <!-- Card Header - Dropdown -->
                  <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                    <h6 class="m-0 font-weight-bold text-primary">Delta T - Condenser</h6>
                  </div>
                  <!-- Card Body -->
                  <div class="card-body">
                    <div class="chart-area">
                      <div id="chartdiv4"></div>
                      <div id="selectordiv"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>


          <div id="content-chiller2" class="d-none">
            <h2>Chiller 2</h2>
            <p>Details and data for Chiller 2.</p>
            <!-- Add more content for Chiller 2 here -->
          </div>

          <div id="content-chiller3" class="d-none">
            <h2>Chiller 3</h2>
            <p>Details and data for Chiller 3.</p>
            <!-- Add more content for Chiller 3 here -->
          </div>

          <div id="content-chiller4" class="d-none">
            <h2>Chiller 4</h2>
            <p>Details and data for Chiller 4.</p>
            <!-- Add more content for Chiller 4 here -->
          </div>

          <div id="content-chiller5" class="d-none">
            <h2>Chiller 5</h2>
            <p>Details and data for Chiller 5.</p>
            <!-- Add more content for Chiller 5 here -->
          </div>
        </div>
        <!-- End of Main Content -->
        <!-- Footer -->
        <footer class="sticky-footer bg-white">
          <div class="container my-auto">
            <div class="copyright text-center my-auto">
              <span>Copyright &copy; Your Website 2022</span>
            </div>
          </div>
        </footer>
        <!-- End of Footer -->
      </div>
      <!-- End of Content Wrapper -->
    </div>
    <!-- End of Page Wrapper -->
    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
      <i class="fas fa-angle-up"></i>
    </a>



    <script>
      function buildHandler(selectedValue) {
        console.log("functipn started");
        // Hide all content sections
        const sections = document.querySelectorAll('[id^="content-"]');
        console.log("section" + sections);
        sections.forEach(section => {
          section.classList.add('d-none');
          section.classList.remove('d-block');
          console.log("selection ok");
        });

        // Show the selected content section
        const selectedSection = document.getElementById(`content-${selectedValue}`);
        if (selectedSection) {
          selectedSection.classList.remove('d-none');
          selectedSection.classList.add('d-block');
          console.log("selection done ");
        }
      }
    </script>
    <!-- Bootstrap core JavaScript-->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- Core plugin JavaScript-->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>
    <!-- Custom scripts for all pages-->
    <script src="js/sb-admin-2.min.js"></script>
    <!-- Page level plugins -->
    <script src="vendor/chart.js/Chart.min.js"></script>
    <!-- Page level custom scripts -->
    <script src="js/demo/chart-area-demo.js"></script>
    <script src="js/demo/chart-pie-demo.js"></script>
    <!-- Resources -->
    <script src="https://cdn.amcharts.com/lib/4/core.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/charts.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/themes/dark.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/themes/animated.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/plugins/rangeSelector.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/lang/es_ES.js"></script>
    <script type="text/javascript" src="http://www.amcharts.com/lib/3/amcharts.js"></script>
    <script type="text/javascript" src="http://www.amcharts.com/lib/3/serial.js"></script>
    <script type="text/javascript" src="http://www.amcharts.com/lib/3/themes/none.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script src="https://www.chartjs.org/dist/2.6.0/Chart.bundle.js"></script>
    <script src="https://www.chartjs.org/samples/2.6.0/utils.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/highcharts-more.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/js/themes/dark-unica.js"></script>
    <script src="https://code.highcharts.com/modules/heatmap.js"></script>
    <script src="https://code.highcharts.com/modules/data.js"></script>
    <script src="https://code.highcharts.com/modules/boost-canvas.js"></script>
    <script src="https://code.highcharts.com/modules/boost.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>
    <script src="js/jquery.pBar.min.js"></script>

    <script>
      am4core.ready(function () {
        // Use themes
        am4core.useTheme(am4themes_dark);
        am4core.useTheme(am4themes_animated);

        // Create chart
        var chart = am4core.create("chartdiv", am4charts.XYChart);
        chart.exporting.menu = new am4core.ExportMenu();

        // Setup X-axis as month names
        var dateAxis = chart.xAxes.push(new am4charts.CategoryAxis());
        dateAxis.dataFields.category = "month";
        dateAxis.title.text = "Months";
        dateAxis.renderer.grid.template.location = 0;
        dateAxis.renderer.labels.template.fill = am4core.color("#fff");
        dateAxis.renderer.minGridDistance = 30;

        // Y-axis for average values
        var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());
        valueAxis.title.text = "Monthly Average Of FLA (%)";
        valueAxis.renderer.labels.template.fill = am4core.color("#fff");

        // Configure the axis to display specific intervals
        valueAxis.min = 0; // Minimum value
        valueAxis.max = 80; // Maximum value
        valueAxis.strictMinMax = true; // Enforce the min and max values
        valueAxis.renderer.minGridDistance = 30; // Distance between grid lines
        valueAxis.renderer.grid.template.strokeOpacity = 0.1; // Adjust grid line opacity
        valueAxis.renderer.grid.template.stroke = am4core.color("#ffffff"); // Grid line color
        valueAxis.renderer.labels.template.fontSize = 12; // Font size for labels
        valueAxis.renderer.labels.template.fill = am4core.color("#fff"); // Label color

        // Define the interval for the Y-axis ticks
        valueAxis.renderer.labels.template.adapter.add("text", function (text) {
          return parseInt(text, 10); // Ensure labels are integers
        });

        // Adjust tick positions to be 0, 10, 20, 30, ..., 80
        valueAxis.axisRanges.clear();
        for (let i = 0; i <= 80; i += 10) {
          const axisRange = valueAxis.axisRanges.create();
          axisRange.value = i;
          axisRange.grid.stroke = am4core.color("#ffffff"); // Customize grid line color
          axisRange.grid.strokeOpacity = 0.2; // Customize grid line opacity
          axisRange.label.disabled = true; // Disable labels for these grid lines
        }

        // Create series for each chiller
        const colors = [
          am4core.color("#FF0000"), // Red
          am4core.color("#00FF00"), // Green
          am4core.color("#0000FF"), // Blue
          am4core.color("#FFFF00"), // Yellow
          am4core.color("#FF00FF")  // Magenta
        ];

        console.log('Fetching data from /fetch-data');
        fetch('/fetch-data')
          .then(response => response.json())
          .then(data => {
            console.log('Raw Data:', data);

            var chartData = [];
            const monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];

            // Prepare data for chart
            monthNames.forEach((monthName, index) => {
              let entry = { month: monthName };

              // Check if data exists for the current month
              if (data[index]) {
                console.log(`Data for ${monthName}:`, data[index]);
                for (let chiller in data[index]) {
                  // Assign data values, default to 0 if null
                  entry[chiller] = data[index][chiller] !== null ? data[index][chiller] : 0;
                }
              } else {
                console.warn(`No data found for ${monthName}. Initializing with zero values.`);
                for (let i = 1; i <= 5; i++) {
                  entry["chiller" + i] = 0; // Initialize with zero values
                }
              }

              chartData.push(entry);
            });

            // Log the final chart data
            console.log('Final chartData:', chartData);

            // Assign data to chart
            chart.data = chartData;
            console.log('Chart data assigned:', chartData);

            // Create series for each chiller
            for (let i = 1; i <= 5; i++) {
              let series = chart.series.push(new am4charts.LineSeries());
              series.name = "Chiller " + i;
              series.dataFields.categoryX = "month";
              series.dataFields.valueY = "chiller" + i;
              series.tooltipText = "{valueY} kWh";

              // Assign color to each series from the colors array
              let color = colors[i - 1] || am4core.color("#000000"); // Default to black if colors run out
              series.stroke = color;
              series.fill = color.lighten(0.5); // Lighten color for fill

              console.log(`Series created for Chiller ${i} with color ${color}`);
            }

            // Cursor
            chart.cursor = new am4charts.XYCursor();
            console.log('Cursor added to chart');

            // Legend
            chart.legend = new am4charts.Legend();
            console.log('Legend added to chart');
          })
          .catch(error => {
            console.error('Error fetching data:', error);
          });
      });
    </script>


    <script>
      am4core.ready(function () {
        // Use themes
        am4core.useTheme(am4themes_dark);
        am4core.useTheme(am4themes_animated);

        // Create chart
        var chart = am4core.create("chartdiv1", am4charts.XYChart);
        chart.exporting.menu = new am4core.ExportMenu();

        // Setup X-axis as month names
        var dateAxis = chart.xAxes.push(new am4charts.CategoryAxis());
        dateAxis.dataFields.category = "month";
        dateAxis.title.text = "Months";
        dateAxis.renderer.grid.template.location = 0;
        dateAxis.renderer.labels.template.fill = am4core.color("#fff");
        dateAxis.renderer.minGridDistance = 30;

        // Y-axis for average values
        var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());
        valueAxis.title.text = "Monthly Average Of AMPS";
        valueAxis.renderer.labels.template.fill = am4core.color("#fff");

        // Configure the axis to display specific intervals
        valueAxis.min = 0; // Minimum value
        valueAxis.max = 1000; // Maximum value
        valueAxis.strictMinMax = true; // Enforce the min and max values
        valueAxis.renderer.minGridDistance = 30; // Distance between grid lines
        valueAxis.renderer.grid.template.strokeOpacity = 0.1; // Adjust grid line opacity
        valueAxis.renderer.grid.template.stroke = am4core.color("#ffffff"); // Grid line color
        valueAxis.renderer.labels.template.fontSize = 12; // Font size for labels
        valueAxis.renderer.labels.template.fill = am4core.color("#fff"); // Label color

        // Define the interval for the Y-axis ticks
        valueAxis.renderer.labels.template.adapter.add("text", function (text) {
          return parseInt(text, 10); // Ensure labels are integers
        });

        // Adjust tick positions to be 0, 10, 20, 30, ..., 80
        valueAxis.axisRanges.clear();
        for (let i = 0; i <= 1000; i += 100) {
          const axisRange = valueAxis.axisRanges.create();
          axisRange.value = i;
          axisRange.grid.stroke = am4core.color("#ffffff"); // Customize grid line color
          axisRange.grid.strokeOpacity = 0.2; // Customize grid line opacity
          axisRange.label.disabled = true; // Disable labels for these grid lines
        }

        // Create series for each chiller
        const colors = [
          am4core.color("#FF0000"), // Red
          am4core.color("#00FF00"), // Green
          am4core.color("#0000FF"), // Blue
          am4core.color("#FFFF00"), // Yellow
          am4core.color("#FF00FF")  // Magenta
        ];

        console.log('Fetching data from /fetch-data');
        fetch('/fetch-amps?start=2021-01-01T00:00:00.000+05:30&end=2021-12-31T00:00:00.000+05:30')
          .then(response => response.json())
          .then(data => {
            console.log('Raw Data:', data);

            var chartData = [];
            const monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];

            // Prepare data for chart
            monthNames.forEach((monthName, index) => {
              let entry = { month: monthName };

              // Check if data exists for the current month
              if (data[index]) {
                console.log(`Data for ${monthName}:`, data[index]);
                for (let chiller in data[index]) {
                  // Assign data values, default to 0 if null
                  entry[chiller] = data[index][chiller] !== null ? data[index][chiller] : 0;
                }
              } else {
                console.warn(`No data found for ${monthName}. Initializing with zero values.`);
                for (let i = 1; i <= 5; i++) {
                  entry["chiller" + i] = 0; // Initialize with zero values
                }
              }

              chartData.push(entry);
            });

            // Log the final chart data
            console.log('Final chartData:', chartData);

            // Assign data to chart
            chart.data = chartData;
            console.log('Chart data assigned:', chartData);

            // Create series for each chiller
            for (let i = 1; i <= 5; i++) {
              let series = chart.series.push(new am4charts.LineSeries());
              series.name = "Chiller " + i;
              series.dataFields.categoryX = "month";
              series.dataFields.valueY = "chiller" + i;
              series.tooltipText = "{valueY} kWh";

              // Assign color to each series from the colors array
              let color = colors[i - 1] || am4core.color("#000000"); // Default to black if colors run out
              series.stroke = color;
              series.fill = color.lighten(0.5); // Lighten color for fill

              console.log(`Series created for Chiller ${i} with color ${color}`);
            }

            // Cursor
            chart.cursor = new am4charts.XYCursor();
            console.log('Cursor added to chart');

            // Legend
            chart.legend = new am4charts.Legend();
            console.log('Legend added to chart');
          })
          .catch(error => {
            console.error('Error fetching data:', error);
          });
      });
    </script>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        am4core.ready(function () {
          // Use themes
          am4core.useTheme(am4themes_dark);
          am4core.useTheme(am4themes_animated);

          // Create chart  
          var chart = am4core.create("chartdiv2", am4charts.XYChart);
          chart.exporting.menu = new am4core.ExportMenu();

          // Setup X-axis with a default title "Chilled Water"
          var categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis());
          categoryAxis.title.text = "Chilled Water";
          // dataAxis.renderer.grid.template.location=0;
          categoryAxis.renderer.labels.template.fill = am4core.color("#fff");
          categoryAxis.renderer.minGridDistance = 30;

          // Y-axis to display calculated power (Amps * Volts)
          var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());
          valueAxis.title.text = "Power (Kw)";
          valueAxis.renderer.labels.template.fill = am4core.color("#fff");

          // Define pump types and their associated pump names
          const pumpCategories = {
            'CoolingTower': ["Fan 1", "Fan 2", "Fan 3", "Fan 4", "Fan 5"],
            'CWP': ["Pump 1", "Pump 2", "Pump 3", "Pump 4", "Pump 5"],
            'PCHWP': ["Pump 1", "Pump 2", "Pump 3", "Pump 4", "Pump 5"],
            'SCHWP': ["Pump 1", "Pump 2", "Pump 3", "Pump 4", "Pump 5"],
            'index': ["Pump 1", "Pump 2", "Pump 3", "Pump 4", "Pump 5"]
          };

          // Function to update the chart based on system type
          function updateChart(systemType) {
            console.log(`Updating chart for system type: ${systemType}`);

            // Get pump names based on systemType
            const xAxisCategories = pumpCategories[systemType] || [];

            // Update X-axis categories
            categoryAxis.dataFields.category = "equipment";
            chart.data = xAxisCategories.map(equipment => ({ equipment }));

            // Update X-axis title based on systemType
            categoryAxis.title.text = systemType === 'CoolingTower' ? "Fans" : "Pumps"; // Example logic, adjust as needed

            console.log('X-Axis Categories:', xAxisCategories);

            // Fetch calculated power data for each pump/fan
            fetch(`/fetch-pumps?system=${systemType}`)
              .then(response => response.json())
              .then(data => {
                console.log(`Fetched data for system ${systemType}:`, data);

                // Process data to match the X-axis categories
                const chartData = xAxisCategories.map((equipment, index) => {
                  // Adjust matching logic for CoolingTower
                  const equipmentName = systemType === 'CoolingTower'
                    ? `FAN${index + 1}`  // For CoolingTower, we use fan1, fan2, etc.
                    : `p${index + 1}`;   // For other systems, we use p1, p2, etc.

                  console.log(`Looking for: ${systemType.toLowerCase()}_${equipmentName}`);
                  const matchingPump = data.find(d => d.pump === `${systemType.toLowerCase()}_${equipmentName}`);

                  console.log("Matching Pump Data:", matchingPump);

                  return {
                    equipment,
                    power: matchingPump ? matchingPump.power : 0 // Match equipment with fetched data
                  };
                });

                console.log('Chart Data:', chartData);

                // Clear existing series
                chart.series.clear();

                // Create series for power
                const series = chart.series.push(new am4charts.ColumnSeries());
                series.name = systemType;
                series.dataFields.categoryX = "equipment";
                series.dataFields.valueY = "power";
                series.tooltipText = "{valueY} Kw";
                series.fill = am4core.color("#00FF00"); // Green color for columns
                series.stroke = am4core.color("#00FF00"); // Green for stroke

                // Add data to chart
                chart.data = chartData;

                // Cursor
                chart.cursor = new am4charts.XYCursor();

                // Disable legend temporarily for debugging
                chart.legend = null;
              })
              .catch(error => {
                console.error('Error fetching data:', error);
              });
          }

          // Handle selection change
          document.getElementById('SelectBuildForPump').addEventListener('change', function (event) {
            const selectedSystem = event.target.value;
            console.log('Selected system:', selectedSystem);

            // Call updateChart with the selected system directly
            updateChart(selectedSystem);
          });

          // Initial chart load with default data (CWP system)
          updateChart('CWP');
        });
      });
    </script>


<script>
  am4core.ready(function () {
      // Use themes
      am4core.useTheme(am4themes_dark);
      am4core.useTheme(am4themes_animated);

      // Create chart
      var chart = am4core.create("chartdiv3", am4charts.XYChart);
      chart.exporting.menu = new am4core.ExportMenu();

      // Define static data
      var chartData = [
          { date: "01 Jan 2021", chiller1: 5.5 },
          { date: "02 Jan 2021", chiller1: 4.6 },
          { date: "03 Jan 2021", chiller1: 7.8 },
          { date: "04 Jan 2021", chiller1: 6.4 },
          { date: "05 Jan 2021", chiller1: 7.0 },
          { date: "06 Jan 2021", chiller1: 7.7 }
      ];

      // Convert date strings to Date objects
      chartData.forEach(function (item) {
          item.date = new Date(item.date);
      });

      // Assign data to chart
      chart.data = chartData;

      // Setup X-axis as date axis
      var dateAxis = chart.xAxes.push(new am4charts.DateAxis());
      dateAxis.dataFields.date = "date";
      dateAxis.title.text = "Date";
      dateAxis.renderer.grid.template.location = 0;
      dateAxis.renderer.labels.template.fill = am4core.color("#fff");
      dateAxis.renderer.minGridDistance = 30;

      // Y-axis for chiller values
      var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());
      valueAxis.title.text = "Chiller 1 Value";
      valueAxis.renderer.labels.template.fill = am4core.color("#fff");
      valueAxis.min = 0; // Minimum value
      valueAxis.max = 10; // Maximum value
      valueAxis.strictMinMax = true; // Enforce the min and max values
      valueAxis.renderer.minGridDistance = 30; // Distance between grid lines
      valueAxis.renderer.grid.template.strokeOpacity = 0.1; // Adjust grid line opacity
      valueAxis.renderer.grid.template.stroke = am4core.color("#ffffff"); // Grid line color
      valueAxis.renderer.labels.template.fontSize = 12; // Font size for labels
      valueAxis.renderer.labels.template.fill = am4core.color("#fff"); // Label color

      // Create series for chiller1
      var series = chart.series.push(new am4charts.LineSeries());
      series.name = "Delta T";
      series.dataFields.dateX = "date";
      series.dataFields.valueY = "chiller1";
      series.tooltipText = "{valueY}";

      // Configure the series
      series.stroke = am4core.color("#FF0000"); // Red
      series.fill = am4core.color("#FF0000").lighten(0.5); // Lighten color for fill

      // Add cursor
      chart.cursor = new am4charts.XYCursor();

      // Add legend
      chart.legend = new am4charts.Legend();
  });
</script>

<script>
  // Fetch monthly average data from the server
  fetch('/fetch-chiller-data')
    .then(response => response.json())
    .then(data => {

      document.getElementById("operatingHours").innerText = data.totalOperatingHours;

      // Create the chart using amCharts
      am4core.useTheme(am4themes_animated);
  
      // Map data and format month names
      const formattedData = data.monthlyAverages.map(item => {
        const date = new Date(item.month + "-01"); // Create a date object for the month
        const options = { year: 'numeric', month: 'long' }; // Format options
        return {
          month: date.toLocaleDateString(undefined, options), // Get the formatted month name
          deltaTEvp: item.avgDeltaTEvp,
          deltaTCon: item.avgDeltaTCon
        };
      });
  
      let chart = am4core.create("chartdiv4", am4charts.XYChart);
      chart.data = formattedData;
  
      // Create the X axis (Month Axis)
      let monthAxis = chart.xAxes.push(new am4charts.CategoryAxis());
      monthAxis.dataFields.category = "month";
      monthAxis.title.text = "Month";
  
      // Configure the monthAxis to show all months
      monthAxis.renderer.grid.template.location = 0;
      monthAxis.renderer.minGridDistance = 30; // Adjust the distance to fit all labels
  
      // Create the Y axis (Delta T Axis)
      let valueAxis = chart.yAxes.push(new am4charts.ValueAxis());
      valueAxis.title.text = "Delta T (Â°C)";
  
      // Create Evaporator Delta T series
      let series1 = chart.series.push(new am4charts.LineSeries());
      series1.dataFields.valueY = "deltaTEvp";
      series1.dataFields.categoryX = "month";
      series1.name = "Evaporator Delta T";
      series1.strokeWidth = 2;
      series1.tensionX = 0.8;
      series1.tooltipText = "{name}: [bold]{valueY}[/]";
  
      // Create Condenser Delta T series
      let series2 = chart.series.push(new am4charts.LineSeries());
      series2.dataFields.valueY = "deltaTCon";
      series2.dataFields.categoryX = "month";
      series2.name = "Condenser Delta T";
      series2.strokeWidth = 2;
      series2.tensionX = 0.8;
      series2.tooltipText = "{name}: [bold]{valueY}[/]";
  
      // Add legend
      chart.legend = new am4charts.Legend();
  
      // Add cursor for zooming and panning
      chart.cursor = new am4charts.XYCursor();
      chart.cursor.xAxis = monthAxis;
  
      // Remove the scrollbar
      chart.scrollbarX = new am4core.Scrollbar(); // Commented out to remove the scrollbar
    })
    .catch(error => console.error('Error fetching chiller data:', error));
  </script>
  
  
  



    <!-- <script>
  am4core.ready(function () {
    // Use themes
    am4core.useTheme(am4themes_dark);
    am4core.useTheme(am4themes_animated);

    // Create chart
    var chart = am4core.create("chartdiv1", am4charts.XYChart);
    chart.exporting.menu = new am4core.ExportMenu();

    // Setup X-axis as month names
    var dateAxis = chart.xAxes.push(new am4charts.CategoryAxis());
    dateAxis.dataFields.category = "month";
    dateAxis.title.text = "Months";
    dateAxis.renderer.grid.template.location = 0;
    dateAxis.renderer.labels.template.fill = am4core.color("#fff");
    dateAxis.renderer.minGridDistance = 30;

    // Y-axis for average values
    var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());
    valueAxis.title.text = "Monthly Average Of AMPS";
    valueAxis.renderer.labels.template.fill = am4core.color("#fff");

    // Configure the axis to display specific intervals
    valueAxis.min = 0; // Minimum value
    valueAxis.max = 1000; // Maximum value
    valueAxis.strictMinMax = true; // Enforce the min and max values
    valueAxis.renderer.minGridDistance = 30; // Distance between grid lines
    valueAxis.renderer.grid.template.strokeOpacity = 0.1; // Adjust grid line opacity
    valueAxis.renderer.grid.template.stroke = am4core.color("#ffffff"); // Grid line color
    valueAxis.renderer.labels.template.fontSize = 12; // Font size for labels
    valueAxis.renderer.labels.template.fill = am4core.color("#fff"); // Label color

    // Define the interval for the Y-axis ticks
    valueAxis.renderer.labels.template.adapter.add("text", function (text) {
      return parseInt(text, 10); // Ensure labels are integers
    });

    // Adjust tick positions to be 0, 10, 20, 30, ..., 80
    valueAxis.axisRanges.clear();
    for (let i = 0; i <= 1000; i += 100) {
      const axisRange = valueAxis.axisRanges.create();
      axisRange.value = i;
      axisRange.grid.stroke = am4core.color("#ffffff"); // Customize grid line color
      axisRange.grid.strokeOpacity = 0.2; // Customize grid line opacity
      axisRange.label.disabled = true; // Disable labels for these grid lines
    }

    // Create series for each chiller
    const colors = [
      am4core.color("#FF0000"), // Red
      am4core.color("#00FF00"), // Green
      am4core.color("#0000FF"), // Blue
      am4core.color("#FFFF00"), // Yellow
      am4core.color("#FF00FF")  // Magenta
    ];

    console.log('Fetching data from /fetch-data');
    fetch('/fetch-amps?start=2021-01-01T00:00:00.000+05:30&end=2021-12-31T00:00:00.000+05:30')
      .then(response => response.json())
      .then(data => {
        console.log('Raw Data:', data);

        var chartData = [];
        const monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];

        // Prepare data for chart
        monthNames.forEach((monthName, index) => {
          let entry = { month: monthName };

          // Check if data exists for the current month
          if (data[index]) {
            console.log(`Data for ${monthName}:`, data[index]);
            for (let chiller in data[index]) {
              // Assign data values, default to 0 if null
              entry[chiller] = data[index][chiller] !== null ? data[index][chiller] : 0;
            }
          } else {
            console.warn(`No data found for ${monthName}. Initializing with zero values.`);
            for (let i = 1; i <= 5; i++) {
              entry["chiller" + i] = 0; // Initialize with zero values
            }
          }

          chartData.push(entry);
        });

        // Log the final chart data
        console.log('Final chartData:', chartData);

        // Assign data to chart
        chart.data = chartData;
        console.log('Chart data assigned:', chartData);

        // Create series for each chiller
        for (let i = 1; i <= 5; i++) {
          let series = chart.series.push(new am4charts.ColumnSeries()); // Changed to ColumnSeries
          series.name = "Chiller " + i;
          series.dataFields.categoryX = "month";
          series.dataFields.valueY = "chiller" + i;
          series.tooltipText = "{valueY} kWh";

          // Assign color to each series from the colors array
          let color = colors[i - 1] || am4core.color("#000000"); // Default to black if colors run out
          series.stroke = color;
          series.fill = color.lighten(0.5); // Lighten color for fill

          console.log(`Series created for Chiller ${i} with color ${color}`);
        }

        // Cursor
        chart.cursor = new am4charts.XYCursor();
        console.log('Cursor added to chart');

        // Legend
        chart.legend = new am4charts.Legend();
        console.log('Legend added to chart');
      })
      .catch(error => {
        console.error('Error fetching data:', error);
      });
  });
</script>
 -->


    <script>
      // var optionsCircle = {
      //   chart: {
      //     type: "radialBar",
      //     height: 330,
      //     offsetX: 0
      //   },
      //   plotOptions: {
      //     radialBar: {
      //       inverseOrder: false,
      //       hollow: {
      //         margin: 5,
      //         size: "48%",
      //         background: "transparent"
      //       },
      //       track: {
      //         show: true,
      //         background: "#40475D",
      //         strokeWidth: "10%",
      //         opacity: 1,
      //         margin: 3 // margin is in pixels
      //       }
      //     }
      //   },
      //   series: [18, 21, 17, 15, 13, 16],
      //   labels: ["Floor 1", "Floor 2", "Floor 3", "Floor 4", "Floor 5", "Floor 6"],
      //   colors: ["#138681", "#6f1386", "#ac0000", "#00644a", "#8f8d00", "#18637c"],
      //   legend: {
      //     show: true,
      //     position: "bottom",
      //     offsetX: -30,
      //     offsetY: -10,
      //     formatter: function (val, opts) {
      //       return val + " - " + opts.w.globals.series[opts.seriesIndex] + "%";
      //     },
      //     labels: {
      //       colors: "#fff",
      //       useSeriesColors: false
      //     },
      //   },
      //   fill: {
      //     type: "gradient",
      //     gradient: {
      //       shade: "dark",
      //       type: "horizontal",
      //       shadeIntensity: 0.5,
      //       inverseColors: true,
      //       opacityFrom: 1,
      //       opacityTo: 1,
      //       stops: [0, 100]
      //     }
      //   }
      // };

      // var chartCircle = new ApexCharts(
      //   document.querySelector("#breakdown"),
      //   optionsCircle
      // );
      // chartCircle.render();
    </script>
    <script type="text/JavaScript">
       am4core.useTheme(am4themes_dark);
       am4core.useTheme(am4themes_animated);
       // Themes end

       // create chart
       var chart = am4core.create("cost_gauge", am4charts.GaugeChart);
       chart.innerRadius = am4core.percent(82);

       /**
        * Normal axis
        */
       var axis = chart.xAxes.push(new am4charts.ValueAxis());
       axis.min = -30;
       axis.max = 30;
       axis.strictMinMax = true;
       axis.renderer.radius = am4core.percent(80);
       axis.renderer.inside = false;
       axis.renderer.line.strokeOpacity = 1;
       axis.renderer.ticks.template.disabled = false;
       axis.renderer.ticks.template.strokeOpacity = 1;
       axis.renderer.ticks.template.length = 20;
       axis.renderer.grid.template.disabled = true;
       axis.renderer.labels.template.radius = 35;
       axis.renderer.labels.template.adapter.add("text", function (text) {
         return text;
       });

       /**
        * Axis for ranges
        */

       var colorSet = new am4core.ColorSet();

       var axis2 = chart.xAxes.push(new am4charts.ValueAxis());
       axis2.min = -30;
       axis2.max = 30;
       axis2.strictMinMax = true;
       axis2.renderer.labels.template.disabled = true;
       axis2.renderer.ticks.template.disabled = true;
       axis2.renderer.grid.template.disabled = true;

       var range0 = axis2.axisRanges.create();
       range0.value = 0;
       range0.endValue =  144.3;
      //  range0.axisFill.fillOpacity = 1;
      //  range0.axisFill.fill = "#8f8d00";

       var range1 = axis2.axisRanges.create();
       range1.value =  2.3;
       range1.endValue = 30;
      //  range1.axisFill.fillOpacity = 1;
      //  range1.axisFill.fill = "#18637c";

       /**
        * Label
        */

       var label2 = chart.radarContainer.createChild(am4core.Label);
       label2.isMeasured = false;
       label2.fontSize = 32;
       label2.x = am4core.percent(50);
       label2.y = am4core.percent(100);
       label2.horizontalCenter = "middle";
       label2.verticalCenter = "top";
       label2.text = "2.3 %";

       /**
        * Hand
        */

       var hand2 = chart.hands.push(new am4charts.ClockHand());
       hand2.axis = axis2;
       hand2.innerRadius = am4core.percent(20);
       hand2.startWidth = 5;
       hand2.pin.disabled = true;
       hand2.value = 2.3;
       var gradient = new am4core.LinearGradient();
        gradient.stops.push({color:am4core.color("red")})
        gradient.stops.push({color:am4core.color("yellow")})
        gradient.stops.push({color:am4core.color("green")})

        axis.renderer.line.stroke = gradient;
        axis.renderer.line.strokeWidth = 25;
        axis.renderer.line.strokeOpacity = 1;

        axis.renderer.grid.template.disabled = true;


       $('#sav_weekly_btn').click(function () {
                      // alert("weekly_btn");
                     label2.text = "1.3 %";
                     hand2.value = 1.3;
                      $("label.gauge_label span").html("23421 kWh");
                      $(".sav.gauge-head").html("Weekly Energy Savings");

                    });
      $('#sav_monthly_btn').click(function () {
                      // alert("current_btn");
                      label2.text = "2.3 %";
                      hand2.value = 2.3;
                      $("label.gauge_label span").html("50542 kWh");
                      $(".sav.gauge-head").html("Monthly Energy Savings");
                    });
      $('#sav_yearly_btn').click(function () {
                      // alert("current_btn");
                      label2.text = "4.3 %";
                      hand2.value = 4.3;
                      $("label.gauge_label span").html("80113 kWh");

                      $(".sav.gauge-head").html("Yearly Energy Savings");
                    });



                    //bar chart
                    var options = {
                      series: [{
                      name: 'Savings',
                      data: [2.3, 3.1, -1.1, -2.3, 3.6],
                      color: "#1cc88999",
                      showInLegend: false,
                      zones: [{
                                value: 1
                              }, {
                                color: '#ac0000'
                              }]
                    }],
                      chart: {
                      height: 350,
                      type: 'bar',
                      toolbar: {
                        show: false,
                      },
                      backgroundColor: 'rgba(0,0,0,0)',
                      events: {
                        click: function(event, chartContext, config) {
                          window.location.href = "floors2.html#powerSts";
                          // The last parameter config contains additional information like `seriesIndex` and `dataPointIndex` for cartesian charts
                        }
                      }
                    },
                    plotOptions: {
                      bar: {
                        borderRadius: 10,
                        dataLabels: {
                          position: 'top', // top, center, bottom
                        },
                      },


                    },
                    dataLabels: {
                      enabled: true,
                      formatter: function (val) {
                        return val + "%";
                      },
                      offsetY: -20,
                      style: {
                        fontSize: '12px',
                        colors: ["#ffffff"]
                      }
                    },
                    xaxis: {
                      categories: ["Floor 1", "Floor 2", "Floor 3", "Floor 4", "Floor 5"],
                      position: 'top',
                      axisBorder: {
                        show: false
                      },
                      axisTicks: {
                        show: false
                      },
                      crosshairs: {
                        fill: {
                          type: 'gradient',
                          gradient: {
                            colorFrom: '#D8E3F0',
                            colorTo: '#BED1E6',
                            stops: [0, 100],
                            opacityFrom: 0.4,
                            opacityTo: 0.5,
                          }
                        }
                      },
                      tooltip: {
                        enabled: true,
                      },
                      labels: {
                                style: {
                                  colors: "#fff",
                                  fontSize: '12px',
                                  fontWeight: 400,
                                  cssClass: 'apexcharts-xaxis-label',
                                },
                              },
                    },
                    yaxis: {
                      axisBorder: {
                        show: false
                      },
                      axisTicks: {
                        show: false,
                      },
                      labels: {
                        show: false,
                        formatter: function (val) {
                          return val + "%";
                        },
                      }

                    },
                    grid: {
                      show: true,
                       borderColor: '#434040',
                    },
                    title: {
                      // text: 'Monthly Inflation in Argentina, 2002',
                      floating: true,
                      offsetY: 330,
                      align: 'center',
                      style: {
                        color: '#444'
                      }
                    }
                    };

                    var chartBar = new ApexCharts(document.querySelector("#sav_b_chart"), options);
                    chartBar.render();

                    $('#floor_sav_btn').click(function () {
                      $(".sav_g_chart").hide();
                      $(".sav_b_chart").show();
                      $("#build_sav_btn").show();
                      $(this).hide();
                    });
                    $('#build_sav_btn').click(function () {
                      $(".sav_g_chart").show();
                      $(".sav_b_chart").hide();
                      $('#floor_sav_btn').show();
                      $(this).hide();
                    });
                    $("#sav_b_weekly_btn").click(function () {
                      chartBar.updateOptions({
                         series: [{
                            data: [2.3, 3.1, -1.1, -2.3, 3.6],
                          }],
                      });
                    });
                    $("#sav_b_monthly_btn").click(function () {
                      chartBar.updateOptions({
                        series: [{
                            data: [3.3, 2.1, -2.1, -1.3, 2.6],
                          }],
                      });
                    });
                    $("#sav_b_yearly_btn").click(function () {
                      chartBar.updateOptions({
                        series: [{
                            data: [4.2, 2.1, -2.1, -3.3, 4.6],
                          }],
                      });
                    });
    </script>
    <!-- <script type="text/JavaScript">
                 // mnthly Energy intensity gauges
                   am4core.useTheme(am4themes_dark);
                   am4core.useTheme(am4themes_animated);
                   // Themes end

                   // create chart
                   var chart = am4core.create("intensity_gauge", am4charts.GaugeChart);
                   chart.innerRadius = am4core.percent(82);

                   /**
                    * Normal axis
                    */

                   var axis = chart.xAxes.push(new am4charts.ValueAxis());
                   axis.min = 100000;
                   axis.max = 1000000;
                   axis.strictMinMax = true;
                   axis.renderer.radius = am4core.percent(80);
                   axis.renderer.inside = false;
                   axis.renderer.line.strokeOpacity = 1;
                   axis.renderer.ticks.template.disabled = false;
                   axis.renderer.ticks.template.strokeOpacity = 1;
                   axis.renderer.ticks.template.length = 20;
                   axis.renderer.grid.template.disabled = true;
                   axis.renderer.labels.template.radius = 35;
                   axis.renderer.labels.template.adapter.add("text", function (text) {
                     return text;
                   });

                   /**
                    * Axis for ranges
                    */

                   var colorSet = new am4core.ColorSet();

                   var axis2 = chart.xAxes.push(new am4charts.ValueAxis());
                   axis2.min = 100000;
                   axis2.max = 1000000;
                   axis2.strictMinMax = true;
                   axis2.renderer.labels.template.disabled = true;
                   axis2.renderer.ticks.template.disabled = true;
                   axis2.renderer.grid.template.disabled = true;

                   var range0 = axis2.axisRanges.create();
                   range0.value = 100000;
                   range0.endValue = 500000;
                  //  range0.axisFill.fillOpacity = 1;
                  //  range0.axisFill.fill = "#8f8d00";

                   var range1 = axis2.axisRanges.create();
                   range1.value = 500000;
                   range1.endValue = 1000000;
                  //  range1.axisFill.fillOpacity = 1;
                  //  range1.axisFill.fill = "#18637c";

                   /**
                    * Label
                    */

                   var label3 = chart.radarContainer.createChild(am4core.Label);
                   label3.isMeasured = false;
                   label3.fontSize = 32;
                   label3.x = am4core.percent(50);
                   label3.y = am4core.percent(100);
                   label3.horizontalCenter = "middle";
                   label3.verticalCenter = "top";
                   label3.text = "300000 kWh";

                   /**
                    * Hand
                    */

                   var hand3 = chart.hands.push(new am4charts.ClockHand());
                   hand3.axis = axis2;
                   hand3.innerRadius = am4core.percent(20);
                   hand3.startWidth = 5;
                   hand3.pin.disabled = true;
                   hand3.value = 300000;

                       var gradient = new am4core.LinearGradient();
                    gradient.stops.push({color:am4core.color("green")})
                    gradient.stops.push({color:am4core.color("yellow")})
                    gradient.stops.push({color:am4core.color("red")})

                    axis.renderer.line.stroke = gradient;
                    axis.renderer.line.strokeWidth = 25;
                    axis.renderer.line.strokeOpacity = 1;

                    axis.renderer.grid.template.disabled = true;



              var weeklyKwh = "http://localhost/obix/config/Dashboard/Analytics/Weekly_KWH/out/";
              var monthlyKwh = "http://localhost/obix/config/Dashboard/Analytics/Monthly_KWH/out/";
              var yearlyKwh = "http://localhost/obix/config/Dashboard/Analytics/Yearly_KWH/out/";

              var WeeklyAjax_call = function() {
                  jQuery.ajax({
                          type: "POST",
                          url: 'callFun.php',
                          data: {url: weeklyKwh, type:"single"},
                          success: function (obj, textstatus) {
                                      // console.log(obj);
                                      var val = obj;
                                      if(val !== ""){
                                        var result = JSON.parse(val);
                                        var unit = JSON.stringify(result.units);
                                        // alert(unit);
                                        if(unit == '"{ok}"'){
                                            var unit = "";
                                        }
                                        unit = unit.slice(1, -1);
                                        //$("#weekCons").html(result.point +" "+ unit);
                                        // console.log(unit);
                                        var values = result.point;
                                        range0.endValue = values;
                                        range1.value = values;
                                        hand3.showValue(values, 1000, am4core.ease.cubicOut);
                                        label3.text = values.toFixed(1) + " "+ unit;

                                        // alert((value * 1000) / 100);
                                        // axis.min = 100000;
                                        // axis.max = 1000000;
                                        // axis2.max = 2000000;
                                        // range1.endValue = 2000000;
                                      }
                                  }
                      });
              }
              var MonthlyAjax_call = function() {
                  jQuery.ajax({
                          type: "POST",
                          url: 'callFun.php',
                          data: {url: monthlyKwh, type:"single"},
                          success: function (obj, textstatus) {
                                      // console.log(obj);
                                      var val = obj;
                                      if(val !== ""){
                                        var result = JSON.parse(val);
                                        var unit = JSON.stringify(result.units);
                                        // alert(unit);
                                        if(unit == '"{ok}"'){
                                            var unit = "";
                                        }
                                        unit = unit.slice(1, -1);
                                        //$("#weekCons").html(result.point +" "+ unit);
                                        // console.log(unit);
                                        var value = result.point;
                                        hand3.showValue(value, 1000, am4core.ease.cubicOut);
                                        label3.text = value.toFixed(1) + " "+ unit;

                                        // axis.min = 100000;
                                        // axis.max = 1000000;
                                      }
                                  }
                      });
              }
              var YearlyAjax_call = function() {
                  jQuery.ajax({
                          type: "POST",
                          url: 'callFun.php',
                          data: {url: yearlyKwh, type:"single"},
                          success: function (obj, textstatus) {
                                      // console.log(obj);
                                      var val = obj;
                                      if(val !== ""){
                                        var result = JSON.parse(val);
                                        var unit = JSON.stringify(result.units);
                                        // alert(unit);
                                        if(unit == '"{ok}"'){
                                            var unit = "";
                                        }
                                        unit = unit.slice(1, -1);

                                        // axis.min = 1000000;
                                        // axis.max = 2000000;
                                        // axis2.max = 2000000;
                                        // range1.endValue = 2000000;
                                        //$("#weekCons").html(result.point +" "+ unit);
                                        // console.log(unit);
                                        var value = result.point;
                                        hand3.showValue(value, 1000, am4core.ease.cubicOut);
                                        label3.text = value.toFixed(1) + " "+ unit;

                                      }
                                  }
                      });
              }
              //var intervalTime = 1000 * 60 * 1; // where X is your every X minutes

              var monthlykwhIntrval = setInterval(MonthlyAjax_call, 1000);
              // MonthlyAjax_call();
             var interval = null;
             var weeklykwhIntrval;
             var yearlykwhIntrval;
             var monthlykwhIntrval2;
      $('#cons_weekly_btn').click(function () {
                              // alert("weekly_btn");
                              // setInterval(WeeklyAjax_call, 10000);
                              // WeeklyAjax_call();
                              weeklykwhIntrval = setInterval(WeeklyAjax_call, 1000);
                              clearInterval(monthlykwhIntrval);
                              clearInterval(monthlykwhIntrval2);
                              clearInterval(yearlykwhIntrval);
                            });
              $('#cons_monthly_btn').click(function () {
                              // alert("current_btn");
                              monthlykwhIntrval2 = setInterval(MonthlyAjax_call, 1000);

                              // MonthlyAjax_call();
                              // setInterval(MonthlyAjax_call, 1000);
                              clearInterval(weeklykwhIntrval);
                              clearInterval(monthlykwhIntrval);
                              clearInterval(yearlykwhIntrval);
                            });
              $('#cons_yearly_btn').click(function () {
                              // alert("current_btn");
                              yearlykwhIntrval = setInterval(YearlyAjax_call, 1000);

                              // YearlyAjax_call();
                              clearInterval(monthlykwhIntrval2);
                              clearInterval(weeklykwhIntrval);
                              clearInterval(monthlykwhIntrval);

                            });


                            // cons bar chart
                            //bar chart
                            var options = {
                              series: [{
                              name: 'Consumption',
                              data: [231, 342, 242, 341, 442],
                              color: "#1cc88999",
                              showInLegend: false,
                              zones: [{
                                        value: 1
                                      }, {
                                        color: '#ac0000'
                                      }]
                            }],
                              chart: {
                              height: 250,
                              type: 'bar',
                              toolbar: {
                                show: false,
                              },
                              backgroundColor: 'rgba(0,0,0,0)',
                               events: {
                                click: function(event, chartContext, config) {
                                  window.location.href = "floors2.html#powerSts";
                                  // The last parameter config contains additional information like `seriesIndex` and `dataPointIndex` for cartesian charts
                                }
                              },
                            },

                            plotOptions: {
                              bar: {
                                borderRadius: 10,
                                dataLabels: {
                                  position: 'top', // top, center, bottom
                                },
                              }
                            },
                            dataLabels: {
                              enabled: true,
                              formatter: function (val) {
                                return val + " kWh";
                              },
                              offsetY: -20,
                              style: {
                                fontSize: '12px',
                                colors: ["#ffffff"]
                              }
                            },
                            xaxis: {
                              categories: ["Floor 1", "Floor 2", "Floor 3", "Floor 4", "Floor 5"],
                              position: 'bottom',
                              axisBorder: {
                                show: false
                              },
                              axisTicks: {
                                show: false
                              },
                              crosshairs: {
                                fill: {
                                  type: 'gradient',
                                  gradient: {
                                    colorFrom: '#D8E3F0',
                                    colorTo: '#BED1E6',
                                    stops: [0, 100],
                                    opacityFrom: 0.4,
                                    opacityTo: 0.5,
                                  }
                                }
                              },
                              tooltip: {
                                enabled: true,
                              },
                              labels: {
                                        style: {
                                          colors: "#fff",
                                          fontSize: '12px',
                                          fontWeight: 400,
                                          cssClass: 'apexcharts-xaxis-label',
                                        },
                                      },
                            },
                            yaxis: {
                              axisBorder: {
                                show: false
                              },
                              axisTicks: {
                                show: false,
                              },
                              labels: {
                                show: false,
                                formatter: function (val) {
                                  return val + " kWh";
                                },
                              }

                            },
                            grid: {
                              show: true,
                               borderColor: '#434040',
                            },
                            title: {
                              // text: 'Monthly Inflation in Argentina, 2002',
                              floating: true,
                              offsetY: 330,
                              align: 'center',
                              style: {
                                color: '#444'
                              }
                            }
                            };

                            var chartBar = new ApexCharts(document.querySelector("#cons_b_chart"), options);
                            chartBar.render();

                            $("#cons_b_weekly_btn").click(function () {
                              chartBar.updateOptions({
                                 series: [{
                                    data: [313, 423, 423, 412, 421],
                                  }],
                              });
                            });
                            $("#cons_b_monthly_btn").click(function () {
                              chartBar.updateOptions({
                                series: [{
                                    data: [231, 342, 242, 341, 442],
                                  }],
                              });
                            });
                            $("#cons_b_yearly_btn").click(function () {
                              chartBar.updateOptions({
                                series: [{
                                    data: [8674, 7686, 7645, 5665, 9576],
                                  }],
                              });
                            });

                          //title icon show/hide
                          $('#floor_cons_btn').click(function () {
                              $(".cons_g_chart").hide();
                              $(".cons_b_chart").show();
                              $("#build_cons_btn").show();
                              $(this).hide();
                            });
                            $('#build_cons_btn').click(function () {
                              $(".cons_g_chart").show();
                              $(".cons_b_chart").hide();
                              $('#floor_cons_btn').show();
                              $(this).hide();
                            });

                            // heatmap

                            $('#heatmap_consumption').highcharts({

                                chart: {
                                    type: 'heatmap',
                                    marginTop: 100,
                                    marginBottom: 80,
                                    zoomType:'xy',
                                },


                                title: {
                                    text: 'Building 2 Consumption Heatmap 2020-21'
                                },

                                xAxis: [{
                                    categories: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'Septemper', 'October', 'November', 'December', 'January', 'February', 'March', 'April']

                                },{
                                    linkedTo: 0,
                                    /* opposite: true, */
                                  /*   categories: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'Septemper', 'October'] */
                                }],

                                yAxis: {
                                    categories: ['Floor 1', 'Floor 2', 'Floor 3', 'Floor 4', 'Floor 5'],
                                    title: null
                                },

                                colorAxis: {
                                stops: [
                                    [0, '#3060cf'],
                                    [0.5, '#005032'],
                                    [0.8, '#9a6e00'],
                                    [1, '#850c00']
                                ],
                                      min: 1,
                                max: 10000,
                                startOnTick: false,
                                endOnTick: false,
                                labels: {
                                    format: '{value} kWh'
                                }
                                },

                                legend: {
                                    align: 'right',
                                    layout: 'vertical',
                                    margin: 0,
                                    verticalAlign: 'top',
                                    y: 80,
                                    x: -20,
                                    symbolHeight: 225
                                },

                                tooltip: {
                                    formatter: function () {
                          /*                 return '<b>' + this.series.xAxis.categories[this.point.x] + '</b> sold <br><b>' +
                                            this.point.value + '</b> items on <br><b>' + this.series.yAxis.categories[this.point.y] + '</b>'; */

                                              return '<b>' + this.series.yAxis.categories[this.point.y] + '</b> Consumed <b>' +this.point.value + ' kWh</b> in '+ this.series.xAxis.categories[this.point.x];
                                    }
                                },

                                series: [{
                                    name: 'Consumed per month and floor',
                                    borderWidth: 1,
                                    data: [
                                      [0, 0, 1000], [0, 1, 1912], [0, 2, 8124], [0, 3, 2544], [0, 4, 6127],
                                      [1, 0, 7221], [1, 1, 5458], [1, 2, 6568], [1, 3, 1417], [1, 4, 4845],
                                      [2, 0, 8545], [2, 1, 8534], [2, 2, 9898], [2, 3, 6478], [2, 4, 7452],
                                      [3, 0, 7452], [3, 1, 8382], [3, 2, 6814], [3, 3, 9819], [3, 4, 6856],
                                      [4, 0, 5438], [4, 1, 7855], [4, 2, 7148], [4, 3, 8117], [4, 4, 6115],
                                      [5, 0, 8988], [5, 1, 7532], [5, 2, 5612], [5, 3, 4556], [5, 4, 7120],
                                      [6, 0, 6513], [6, 1, 4445], [6, 2, 8458], [6, 3, 9845], [6, 4, 9455],
                                      [7, 0, 7451], [7, 1, 6232], [7, 2, 8652], [7, 3, 6265], [7, 4, 8540],
                                      [8, 0, 5585], [8, 1, 9777], [8, 2, 5273], [8, 3, 6454], [8, 4, 8884],
                                      [9, 0, 4887], [9, 1, 7114], [9, 2, 7831], [9, 3, 8428], [9, 4, 4591] ,
                                      [10, 0, 2887], [10, 1, 4114], [10, 2, 5831], [10, 3, 2428], [10, 4, 5491],
                                      [11, 0, 4353], [11, 1, 2342], [11, 2, 2342], [11, 3, 5645], [11, 4, 2342],
                                      [12, 0, 2342], [12, 1, 3212], [12, 2, 7443], [12, 3, 5447], [12, 4, 2235],
                                      [13, 0, 7653], [13, 1, 8533], [13, 2, 9356], [13, 3, 8999], [13, 4, 4367],
                                      [14, 0, 8656], [14, 1, 9832], [14, 2, 8945], [14, 3, 9875], [14, 4, 8674],
                                      [15, 0, 9210], [15, 1, 5345], [15, 2, 6574], [15, 3, 5346], [15, 4, 7633]],
                                    dataLabels: {
                                        enabled: false,
                                        color: '#000000'
                                    }
                                }]

                            });

      //                       Highcharts.chart('heatmap_consumption', {

      //     data: {
      //         csv: document.getElementById('csv').innerHTML
      //     },

      //     chart: {
      //         type: 'heatmap',
      //         zoomType: 'xy',
      //     },

      //     boost: {
      //         useGPUTranslations: true
      //     },

      //     title: {
      //         text: 'Consumption heat map',
      //         align: 'left',
      //         x: 40
      //     },

      //     subtitle: {
      //         text: 'Consumption variation by day and hour through 2020',
      //         align: 'left',
      //         x: 40
      //     },

      //     xAxis: {
      //         type: 'datetime',
      //         min: Date.UTC(2020, 0, 1),
      //         max: Date.UTC(2020, 12, 31),
      //         labels: {
      //             align: 'left',
      //             x: 5,
      //             y: 14,
      //             format: '{value:%B}' // long month
      //         },
      //         showLastLabel: false,
      //         tickLength: 16
      //     },

      //     yAxis: {
      //         title: {
      //             text: null
      //         },
      //         labels: {
      //             format: '{value}'
      //         },
      //         minPadding: 0,
      //         maxPadding: 0,
      //         startOnTick: false,
      //         endOnTick: false,
      //         tickPositions: [1, 2, 3, 4, 5, 6],
      //         tickWidth: 1,
      //         min: 0,
      //         max: 23,
      //         reversed: true
      //     },

      //     colorAxis: {
      //         stops: [
      //            [0, '#3060cf'],
      //             [0.5, '#005032'],
      //             [0.9, '#9a6e00'],
      //             [1, '#850c00']
      //         ],
      //         min: 1,
      //         max: 10000,
      //         startOnTick: false,
      //         endOnTick: false,
      //         labels: {
      //             format: '{value} kWh'
      //         }
      //     },

      //     series: [{
      //         boostThreshold: 100,
      //         borderWidth: 0,
      //         nullColor: '#EFEFEF',
      //         colsize: 24 * 36e5, // one day
      //         tooltip: {
      //             headerFormat: 'Consumption<br/>',
      //             pointFormat: '{point.x:%e %b, %Y} {point.y}:00: <b>{point.value} kWh</b>'
      //         },
      //         turboThreshold: Number.MAX_VALUE // #3404, remove after 4.0.5 release
      //     }]

      // });
    </script> -->
    <!-- <script type="text/JavaScript">
      var chartData = {
              labels: ["January", "February", "March", "April", "May", "June", "July"],
              datasets: [{
                  type: 'line',
                  label: 'Actual Cost',
                  borderColor: window.chartColors.blue,
                  borderWidth: 2,
                  fill: false,
                  data: [
                      120, 220, 150, 130, 250, 290, 170
                  ]
              }, {
                  type: 'line',
                  label: 'Baseline Cost',
                  borderColor: window.chartColors.yellow,
                  borderWidth: 2,
                  fill: false,
                  data: [
                      220, 220, 220, 220, 220, 220, 220
                  ]
              }, {
                  type: 'bar',
                  label: 'Actual Power',
                  backgroundColor: window.chartColors.red,
                  data: [
                      280,150,120,130,250,290,170
                  ],
                  borderColor: 'white',
                  borderWidth: 2
              }, {
                  type: 'bar',
                  label: 'Baseline Power',
                  backgroundColor: window.chartColors.green,
                  data: [
                      320, 220, 190, 110, 170, 210, 100
                  ]
              }]

          };
          window.onload = function() {
              var ctx = document.getElementById("canvas").getContext("2d");
              ctx.height = 500;
              window.myMixedChart = new Chart(ctx, {
                  type: 'bar',
                  data: chartData,
                  options: {
                      responsive: true,
                      title: {
                          display: false,
                          // text: 'Chart.js Combo Bar Line Chart'
                      },
                      tooltips: {
                          mode: 'index',
                          intersect: true
                      }
                  }
              });
          };
    </script>
        <script type="text/JavaScript">
       var options = {
           series: [67],
           chart: {
           height: 350,
           type: 'radialBar',
           offsetY: -10
         },
         plotOptions: {
           radialBar: {
             startAngle: -135,
             track: {
               background: '#333',
               startAngle: -135,
               endAngle: 135,
             },
             endAngle: 135,
             dataLabels: {
               name: {
                 fontSize: '16px',
                 color: "#fff",
                 offsetY: 120
               },
               value: {
                 offsetY: 76,
                 fontSize: '22px',
                 color: "#fff",
                 formatter: function (val) {
                   return val + "kw";
                 }
               }
             }
           }
         },
         fill: {
           type: 'gradient',
           gradient: {
               shade: 'dark',
             type: 'horizontal',
             shadeIntensity: 0.5,
             gradientToColors: ['#8f8d00'],
             inverseColors: true,
             opacityFrom: 1,
             opacityTo: 1,
             stops: [0, 100]
           },
         },
         stroke: {
           dashArray: 2,
         },
         labels: [''],
         };

         var chart = new ApexCharts(document.querySelector("#total_gauge_new"), options);
         chart.render();

        //  pue_chart

        var options = {
        series: [{
          name: "Floor 1",
          data: [1.2, 2.3, 1.6, 1.8, 2.3, 1.6, 2.1, 2.0, 1.0, 1.8, 1.5, 1.0],
          color: "#138681"
        },
        {
          name: "Floor 2",
          data: [1.4, 1.3, 2.5, 1.8, 2.1, 1.8, 2.9, 1.7, 1.6, 1.5, 2.3, 2],
          color: "#6f1386"
        },
        {
          name: 'Floor 3',
          data: [1.7, 2.1, 1.7, 1.2, 2.3, 2.4, 1.9, 2.3, 2, 1.7, 1.6, 1.9],
          color: "#ac0000"
        },
        {
          name: 'Floor 4',
          data: [2.7, 2.3, 1.2, 1.1, 1.3, 2.2, 1.5, 1.6, 2, 2.7, 1.5, 1.2],
          color: "#00644a"
        },
        {
          name: 'Floor 5',
          data: [1.7, 2.5, 2.7, 2.2, 2.8, 1.4, 1.2, 2.1, 1, 1.6, 1.4, 1.2],
          color: "#8f8d00"
        },
        {
          name: 'Floor 6',
          data: [1.2, 2.4, 2.7, 2.2, 1.1, 1.4, 2.9, 1.3, 2.4, 2.7, 2.6, 1.2],
          color: "#18637c"
        }
      ],
      chart: {
        background: '#23232a',
        height: 310,
        type: 'line',
        zoom: {
          enabled: false
        },
        color: "#fff"
      },
      dataLabels: {
        enabled: false
      },
      stroke: {
        width: [1, 1, 1],
        // curve: 'straight',
        // dashArray: [0, 8, 5]
      },
      title: {
        text: '',
        align: 'left'
      },
      legend: {
        tooltipHoverFormatter: function(val, opts) {
          return val + ' - ' + opts.w.globals.series[opts.seriesIndex][opts.dataPointIndex] + ''
        },
          labels: {
            colors: "#fff",
            useSeriesColors: false
          },
      },
      markers: {
        size: 0,
        hover: {
          sizeOffset: 6
        }
      },
      xaxis: {
        categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',
          'Oct', 'Nov', 'Dec'
        ],
        labels: {
            style: {
                colors: "#fff",
                fontSize: '12px',
                fontFamily: 'Helvetica, Arial, sans-serif',
                fontWeight: 400,
                cssClass: 'apexcharts-xaxis-label',
            },
        },
      },
      yaxis: {
        labels: {
            style: {
                colors: "#fff",
                fontSize: '12px',
                fontFamily: 'Helvetica, Arial, sans-serif',
                fontWeight: 400,
                cssClass: 'apexcharts-xaxis-label',
            },
        },
      },
      tooltip: {
        y: [
          {
            title: {
              formatter: function (val) {
                return val;
              }
            }
          },
          {
            title: {
              formatter: function (val) {
                return val;
              }
            }
          },
          {
            title: {
              formatter: function (val) {
                return val;
              }
            }
          }
        ]
      },
      grid: {
        borderColor: '#f1f1f1',
      }
      };

      var chart_pue = new ApexCharts(document.querySelector("#pue_chart"), options);
      chart_pue.render();

      //Weekly
       $('#pue_weekly_btn').click(function () {
                      // alert("weekly_btn");
                     chart_pue.updateOptions({
                        series: [{
                                  name: "Floor 1",
                                  data: [1.4, 1.3, 2.5, 1.8, 2.1, 1.8, 2.9],
                                  color: "#138681"
                                },
                                {
                                  name: "Floor 2",
                                  data: [1.7, 2.1, 1.7, 1.2, 2.3, 2.4, 1.9],
                                  color: "#6f1386"
                                },
                                {
                                  name: 'Floor 3',
                                  data: [1.7, 2.5, 2.7, 2.2, 2.8, 1.4, 1.2],
                                  color: "#ac0000"
                                },
                                {
                                  name: 'Floor 4',
                                  data: [1.2, 2.4, 2.7, 2.2, 1.1, 1.4, 2.9],
                                  color: "#00644a"
                                },
                                {
                                  name: 'Floor 5',
                                  data: [1.2, 2.3, 1.6, 1.8, 2.3, 1.6, 2.1],
                                  color: "#8f8d00"
                                },
                                {
                                  name: 'Floor 6',
                                  data: [2.7, 2.3, 1.2, 1.1, 1.3, 2.2, 1.5],
                                  color: "#18637c"
                                }
                              ],
                        xaxis: {
                                categories: ['Day 1', 'Day 2', 'Day 3', 'Day 4', 'Day 5', 'Day 6', 'Day 7'
                                ],
                              }
                        });

                    });
                    /// monthly
                    $('#pue_monthly_btn').click(function () {
                      chart_pue.updateOptions({
                        series: [{
                                  name: "Floor 1",
                                  data: [1.2, 2.3, 1.6, 1.8, 2.3, 1.6, 2.1, 2.0, 1.0, 1.8, 1.5, 1.0],
                                  color: "#138681"
                                },
                                {
                                  name: "Floor 2",
                                  data: [1.4, 1.3, 2.5, 1.8, 2.1, 1.8, 2.9, 1.7, 1.6, 1.5, 2.3, 2],
                                  color: "#6f1386"
                                },
                                {
                                  name: 'Floor 3',
                                  data: [1.7, 2.1, 1.7, 1.2, 2.3, 2.4, 1.9, 2.3, 2, 1.7, 1.6, 1.9],
                                  color: "#ac0000"
                                },
                                {
                                  name: 'Floor 4',
                                  data: [2.7, 2.3, 1.2, 1.1, 1.3, 2.2, 1.5, 1.6, 2, 2.7, 1.5, 1.2],
                                  color: "#00644a"
                                },
                                {
                                  name: 'Floor 5',
                                  data: [1.7, 2.5, 2.7, 2.2, 2.8, 1.4, 1.2, 2.1, 1, 1.6, 1.4, 1.2],
                                  color: "#8f8d00"
                                },
                                {
                                  name: 'Floor 6',
                                  data: [1.2, 2.4, 2.7, 2.2, 1.1, 1.4, 2.9, 1.3, 2.4, 2.7, 2.6, 1.2],
                                  color: "#18637c"
                                }
                              ],
                              xaxis: {
                                      categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',
                                        'Oct', 'Nov', 'Dec'
                                      ],
                                    },
                      });
                    });
    </script>
        <script type="text/JavaScript">
      $(function(){
         var hash = $(location).attr('hash').substr(1);
         $('#locationName').html(hash);
      });
    </script>
        <script>
          Highcharts.setOptions({
            // Apply to all charts
            chart: {
              events: {
                beforePrint: function () {
                  this.oldhasUserSize = this.hasUserSize;
                  this.resetParams = [this.chartWidth, this.chartHeight, false];
                  this.setSize(600, 400, false);
                  console.log(this);
                  this.setTitle(
                    {
                      text: "New title",
                    },
                    {
                      text: "",
                    },
                    false
                  );
                  this.chartBackground.attr({
                    fill: "#000000",
                  });
                },
                afterPrint: function () {
                  this.setSize.apply(this, this.resetParams);
                  this.hasUserSize = this.oldhasUserSize;
                  this.setTitle(
                    {
                      text: "Rescale to print",
                    },
                    {
                      text: 'Click the context menu and choose "Print chart".<br>The chart size is set to 600x400 and restored after print.',
                    },
                    false
                  );
                  this.chartBackground.attr({
                    fill: "#FFFFFF",
                  });
                },
              },
            },
          });
          var chart = Highcharts.chart("energyChart", {
            title: {
              text: "",
            },
            chart: {
              inverted: true,
              polar: false,
              height: 300,
              width: 720,
              backgroundColor: "rgba(0,0,0,0)",
            },
            subtitle: {
              text: "",
            },

            xAxis: {
              categories: [
                "FEEDER-1 ENERGY",
                "FEEDER-2 ENERGY",
                "FEEDER-3 ENERGY",
                "FEEDER-4 ENERGY",
                "FEEDER-5 ENERGY",
              ],
            },
            exporting: {
              enabled: true,
            },
            series: [
              {
                type: "column",
                colorByPoint: false,
                data: [50852, 34812, 25000, 49045, 34812],
                color: "#4e73df99",
                showInLegend: false,
                zones: [
                  {
                    value: 45000,
                  },
                  {
                    color: "#ac000099",
                  },
                ],
                borderColor: "#000",
                borderWidth: 0,
                borderRadius: 5,
                pointWidth: 35,
              },
            ],
          });

          $("#inverted").click(function () {
            chart.update({
              chart: {
                inverted: true,
                polar: false,
                height: 300,
                width: 700,

                backgroundColor: "rgba(0,0,0,0)",
              },
              subtitle: {
                text: "",
              },

              yAxis: {
                gridLineColor: "#454545",
              },
            });
          });

          $("#polar").click(function () {
            chart.update({
              chart: {
                inverted: false,
                polar: true,

                backgroundColor: "rgba(0,0,0,0)",
              },
              subtitle: {
                text: "",
              },
              series: [
                {
                  borderRadius: undefined,
                  pointWidth: undefined,
                },
              ],
            });
          });

          $("#pue_gauges h2").each(function () {
            $(this)
              .prop("Counter", 1.77)
              .animate(
                {
                  Counter: $(this).text(),
                },
                {
                  duration: 4000,
                  easing: "swing",
                  step: function (now, a) {
                    $(this).text(1.77 - ~~this.Counter);
                  },
                }
              );
          });
          $("#cooling_gauges h2").each(function () {
            $(this)
              .prop("Counter", 97916)
              .animate(
                {
                  Counter: $(this).text(),
                },
                {
                  duration: 4000,
                  easing: "swing",
                  step: function (now, a) {
                    $(this).text(97916 - ~~this.Counter);
                  },
                }
              );
          });
          $("#it_load_gauges h2").each(function () {
            $(this)
              .prop("Counter", 51287)
              .animate(
                {
                  Counter: $(this).text(),
                },
                {
                  duration: 4000,
                  easing: "swing",
                  step: function (now, a) {
                    $(this).text(51287 - ~~this.Counter);
                  },
                }
              );
          });

          $("#misc h2").each(function () {
            $(this)
              .prop("Counter", 4059)
              .animate(
                {
                  Counter: $(this).text(),
                },
                {
                  duration: 4000,
                  easing: "swing",
                  step: function (now, a) {
                    $(this).text(4059 - ~~this.Counter);
                  },
                }
              );
          });

          $("#ups_loss h2").each(function () {
            $(this)
              .prop("Counter", 3093)
              .animate(
                {
                  Counter: $(this).text(),
                },
                {
                  duration: 4000,
                  easing: "swing",
                  step: function (now, a) {
                    $(this).text(3093 - ~~this.Counter);
                  },
                }
              );
          });

          $("#transformer h2").each(function () {
            $(this)
              .prop("Counter", 939)
              .animate(
                {
                  Counter: $(this).text(),
                },
                {
                  duration: 4000,
                  easing: "swing",
                  step: function (now, a) {
                    $(this).text(939 - ~~this.Counter);
                  },
                }
              );

            //breakdown chart

            var options = {
              series: [916.51, 287.88, 459, 465.61, 693.4],
              chart: {
                width: 400,
                type: "pie",
              },
              legend: {
                position: "bottom",
                labels: {
                  colors: "#fff",
                },
              },
              tooltip: {
                x: {
                  formatter: (value) => {
                    return value + "KWh";
                  },
                },
              },
              labels: [
                "Building 1",
                "Building 2",
                "Building 3",
                "Building 4",
                "Building 5",
                "Building 6",
              ],
              responsive: [
                {
                  breakpoint: 480,
                  options: {
                    chart: {
                      width: 150,
                    },
                    legend: {
                      position: "bottom",
                    },
                  },
                },
              ],
            };

            var chart = new ApexCharts(
              document.querySelector("#breakdown"),
              options
            );
            chart.render();

            $("#current_btn").click(function () {
              // alert("current_btn");
              chart.update({
                series: [97916.51, 51287.88, 4059, 5465.61, 3093.4],
              });
            });

            $("#previous_btn").click(function () {
              // alert("previous_btn");
              chart.update({
                series: [53234.51, 3345.88, 34535, 54554.61, 26543.4],
              });
            });
          });

          function buildHandler(value) {
            window.location.assign(`${value}.html`);
          }
        </script>
        <script>
          var el = document.querySelector(".more");
          var btn = el.querySelector(".more-btn");
          var menu = el.querySelector(".more-menu");
          var visible = false;

          function showMenu(e) {
            e.preventDefault();
            if (!visible) {
              visible = true;
              el.classList.add("show-more-menu");
              menu.setAttribute("aria-hidden", false);
              document.addEventListener("click", hideMenu, false);
            }
          }

          function hideMenu(e) {
            // console.log(e)
            if (btn.contains(e.target)) {
              return;
            }
            if (visible) {
              visible = false;
              el.classList.remove("show-more-menu");
              menu.setAttribute("aria-hidden", true);
              document.removeEventListener("mousedown", hideMenu);
            }
          }

          btn.addEventListener("click", showMenu, false);
        </script>
        <script>
          UpdateData();

          // todayKwh = encodeURIComponent(todayKwh);

          function UpdateData() {
            var todayTemp =
              "http://localhost/obix/config/Dashboard/TEMP/ROOM_TEMP_1/out/";
            var today_kwh =
              "http://localhost/obix/config/Dashboard/Analytics/Today_KWH/out/";
            Promise.all([
              jQuery.ajax({
                type: "POST",
                url: "callFun.php",
                data: { url: todayTemp, type: "single" },
                success: function (obj, textstatus) {
                  // console.log(obj);
                  var val = obj;
                  if (val !== "") {
                    var result = JSON.parse(val);
                    var unit = JSON.stringify(result.units);
                    // alert(unit);
                    if (unit == '"{ok}"') {
                      var unit = "";
                    }
                    unit = unit.slice(1, -1);
                    $("#roomTemp").html(result.point + " " + unit);
                  }
                },
              }),
              jQuery.ajax({
                type: "POST",
                url: "callFun.php",
                data: { url: today_kwh, type: "single" },
                success: function (obj, textstatus) {
                  // console.log(obj);
                  var val = obj;
                  if (val !== "") {
                    var result = JSON.parse(val);
                    var unit = JSON.stringify(result.units);
                    // alert(unit);
                    if (unit == '"{ok}"') {
                      var unit = "";
                    }
                    unit = unit.slice(1, -1);
                    $("#todayCons").html(result.point + " " + unit);
                  }
                },
              }),
            ]).then(function () {
              //Some other code - Won't run until both requests have finished
            });

            setTimeout(function () {
              UpdateData();
            }, 1000);
          }
        </script> -->
</body>

</html>